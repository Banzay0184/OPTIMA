# Документация API OPTIMA

Эта документация описывает REST API для управления категориями, типами и продуктами на приватном сайте OPTIMA. API использует JSON и требует токен для операций записи (POST, PUT, DELETE) в заголовке `Authorization: Token <ключ>`.

---

## Категории

### Получить список всех категорий
- **Метод**: `GET`
- **URL**: `/api/v1/categories/`
- **Описание**: Возвращает список всех категорий с датами создания и обновления..
- **Пример запроса**: GET /api/v1/categories/
- **Пример ответа**:
```json
{
    "count": 3,
    "results": [
        {
            "id": 1,
            "category_name": "Бутылки",
            "created_at": "2025-02-22T12:00:00Z",
            "updated_at": "2025-02-22T12:00:00Z"
        },
        {
            "id": 2,
            "category_name": "Банки",
            "created_at": "2025-02-22T12:01:00Z",
            "updated_at": "2025-02-22T12:01:00Z"
        }
    ]
}
```
- **Код ошибки (401)**: Требуется токен (хотя для GET токен не обязателен, но для записи — да).

### Создать категорию
- **Метод**: `POST`
- **URL**: `/api/v1/categories/`
- **Описание**: Создаёт новую категорию. Требуется токен.
- **Authorization**: Token 547a1af3f0b9be9f6872a3dda8ce9d8d5a5599f2
- **Пример запроса**: POST /api/v1/categories/
- **Тело запроса (JSON):**
```json
{
    "category_name": "Новые бутылки"
}
```
- **Пример ответа (201 Created):**:
```json
{
    "id": 3,
    "category_name": "Новые бутылки",
    "created_at": "2025-02-22T12:02:00Z",
    "updated_at": "2025-02-22T12:02:00Z"
}
```
- **Код ошибки (400)**: Неверные данные (например, пустое имя).
- **Код ошибки (401)**: Токен не предоставлен или недействителен.

### Получить категорию по ID
- **Метод**: `GET`
- **URL**: `/api/categories/{id}/` например: `/api/categories/1/`
- **Описание**: Возвращает одну категорию по её ID.
- **Пример запроса**: GET /api/categories/1/
- **Пример ответа (200 OK):**:
```json
{
    "id": 1,
    "category_name": "Бутылки",
    "created_at": "2025-02-22T12:00:00Z",
    "updated_at": "2025-02-22T12:00:00Z"
}
```
- **Код ошибки (404)**: Категория не найдена.

### Обновить категорию по ID
- **Метод**: `PUT`
- **URL**: `/api/categories/{id}/` например: `/api/categories/1/`
- **Описание**: Обновляет категорию. Требуется токен.
- **Authorization**: Token 547a1af3f0b9be9f6872a3dda8ce9d8d5a5599f2
- **Пример запроса**: GET /api/categories/1/
- **Тело запроса (JSON):**
```json
{
    "category_name": "Обновлённые бутылки"
}
```
- **Пример ответа (200 OK):**:
```json
{
    "id": 1,
    "category_name": "Обновлённые бутылки",
    "created_at": "2025-02-22T12:00:00Z",
    "updated_at": "2025-02-22T12:05:00Z"
}
```
- **Коды ошибок**: 400 (неверные данные), 401 (нет токена), 404 (не найдено).

### Удалить категорию по ID
- **Метод**: `DELETE`
- **URL**: `/api/categories/{id}/` например: `/api/categories/1/`
- **Описание**: Удаляет категорию. Требуется токен.
- **Authorization**: Token 547a1af3f0b9be9f6872a3dda8ce9d8d5a5599f2
- **Пример ответа (204 No Content)**: Пустой ответ (успешное удаление)
- **Коды ошибок**: 401 (нет токена), 404 (не найдено)